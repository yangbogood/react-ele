{"version":3,"sources":["assets/images/default.jpg","pages/info/index.jsx","components/header/index.jsx","config/envconfig.js","api/server.js","api/api.js","store/userInfo/action.js"],"names":["module","exports","alert","Modal","defaultImage","require","Info","state","hasAlert","alertText","logout","files","base64","uploadImg","event","a","formdata","FormData","append","target","API","result","props","modifyUserInfo","imgUrl","image_path","console","error","loginOut","status","Toast","success","history","push","saveUserInfo","window","localStorage","clear","this","type","info","text","onPress","log","className","title","goBack","bind","key","onChange","src","userInfo","imgpath","alt","to","username","onClick","handleClick","Component","connect","userInfoData","dispatch","Header","handleBack","mode","icon","onLeftClick","Server","method","url","data","params","baseURL","Promise","resolve","reject","_option","baseUrl","timeout","headers","withCredentials","validateStatus","axios","request","then","res","JSON","parse","response","Object","tip","err","getUrlConcat","id","message","keyword","user","value"],"mappings":"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","file":"static/js/15.a122f78a.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom'\r\nimport Header from '../../components/header';\r\nimport { Modal, Toast } from 'antd-mobile';\r\nimport { imgUrl } from '../../config/envconfig';\r\nimport { modifyUserInfo,saveUserInfo } from '../../store/userInfo/action'\r\nimport QueueAnim from 'rc-queue-anim'\r\nimport API from '../../api/api.js';\r\nimport './index.scss'\r\nconst alert = Modal.alert;\r\n\r\nconst defaultImage = require('../../assets/images/default.jpg');\r\nclass Info extends Component {\r\n  state = {\r\n    hasAlert: false,\r\n    alertText: '请在手机APP中打开',\r\n    logout: false,\r\n    files: [],\r\n    base64: '',\r\n  }\r\n\r\n  uploadImg = async event => {\r\n    try {\r\n      let formdata = new FormData();  // 获取表单\r\n      formdata.append('file', event.target.files[0]);  // 上传的文件\r\n      let result = await API.uploadImg(formdata, 'avatar');\r\n      this.props.modifyUserInfo(imgUrl + result.image_path)\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n\r\n  goBack() {\r\n    this.props.history.push('./profile')\r\n  }\r\n\r\n  handleClick(type) {\r\n    switch (type) {\r\n      case 'tele':\r\n        Toast.info('请在手机APP中打开', 2, null, false);\r\n        break\r\n      case 'password':\r\n        this.props.history.push('/forget');\r\n        break\r\n      case 'logout':\r\n        alert('确认退出？', '', [\r\n          { text: '取消', onPress: () => console.log('cancel') },\r\n          { text: '确认', onPress: () => { this.loginOut() } },\r\n        ])\r\n        break\r\n      default:\r\n    }\r\n\r\n  }\r\n  loginOut = async ()=> {\r\n    let res = await API.loginOut();\r\n    if (res.status === 1) {\r\n      Toast.success('退出成功', 2); \r\n      this.props.history.push('/')\r\n      this.props.saveUserInfo({})\r\n      window.localStorage.clear()\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='rating-page'>\r\n        <QueueAnim type='bottom'>\r\n          <Header title=\"账户消息\" goBack={this.goBack.bind(this)} key='o1' />\r\n          <section className='profile-info' key='o2'>\r\n            <QueueAnim>\r\n              <section className='headportrait' key='k1'>\r\n                <input type=\"file\" className='profile-info-upload' onChange={this.uploadImg} />\r\n                <h2>头像</h2>\r\n                <div className='info-avatar'>\r\n                  <img src={this.props.userInfo.imgpath ? this.props.userInfo.imgpath : defaultImage} alt=\"img id wrong\" className='headport-top' />\r\n                  <div className='icon-arrow-right'></div>\r\n                </div>\r\n\r\n              </section>\r\n              <Link to='/setuser/name' className='info-router' key='k2'>\r\n                <section className='headportrait headportraitwo'>\r\n                  <h2>用户名</h2>\r\n                  <div className='info-avatar'>\r\n                    <div>{this.props.userInfo.username}</div>\r\n                    <div className='icon-arrow-right'></div>\r\n                  </div>\r\n                </section>\r\n              </Link>\r\n              <Link to='/setuser/address' className='info-router' key='k3'>\r\n                <section className='headportrait headportraithree'>\r\n                  <h2>收获地址</h2>\r\n                  <div className='info-avatar'>\r\n                    <div>{this.state.username}</div>\r\n                    <div className='icon-arrow-right'></div>\r\n                  </div>\r\n                </section>\r\n              </Link>\r\n              <section className=\"bind-phone\" key='k4'>\r\n                账号绑定\r\n            </section>\r\n              <div onClick={this.handleClick.bind(this, 'tele')} className='info-router' key='k5'>\r\n                <section className='headportrait headportraitfour'>\r\n                  <div className='headport-phone'>\r\n                    <div className='icon-shouji'></div>\r\n                    <h2>手机</h2>\r\n                  </div>\r\n                  <div className='info-avatar'>\r\n                    <div className='icon-arrow-right'></div>\r\n                  </div>\r\n                </section>\r\n              </div>\r\n\r\n              <section className=\"bind-phone\" key='k6'>\r\n                安全设置\r\n            </section>\r\n              <div onClick={this.handleClick.bind(this, 'password')} className='info-router' key='k7'>\r\n                <section className='headportrait headportraithree'>\r\n                  <h2>登录密码</h2>\r\n                  <div className='info-avatar'>\r\n                    <div className='headport-modify'>修改</div>\r\n                    <div className='icon-arrow-right'></div>\r\n                  </div>\r\n                </section>\r\n              </div>\r\n              <section onClick={this.handleClick.bind(this, 'logout')} className='exit-login' key='k8'>退出登录</section>\r\n\r\n            </QueueAnim>\r\n          </section>\r\n        </QueueAnim>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userInfo: state.userInfoData.userInfo\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    modifyUserInfo: (imgpath) => dispatch(modifyUserInfo(\"imgpath\", imgpath)),\r\n    saveUserInfo:(userInfo)=>dispatch(saveUserInfo(userInfo))\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Info)","import React, { Component } from 'react'\r\nimport { NavBar, Icon } from 'antd-mobile';\r\nimport './index.scss'\r\nexport default class Header extends Component {\r\n\r\n  handleBack = () => {\r\n    this.props.goBack()\r\n  }\r\n  render() {\r\n    return (\r\n      <header className=\"header-container\">\r\n        {this.props.goBack && <NavBar\r\n          mode=\"dark\"\r\n          icon={!this.props.icon ? <Icon type='left' />:<Icon type=\"search\" />}\r\n          onLeftClick={this.handleBack}\r\n        >{this.props.title}</NavBar>}\r\n      </header>\r\n    )\r\n  }\r\n}","// 全局配置\r\n\r\nlet baseUrl = ''\r\nlet imgUrl\r\nif (process.env.NODE_ENV === 'development') {\r\n    imgUrl = 'http://cangdu.org:8001/img/'\r\n} else if (process.env.NODE_ENV === 'production') {\r\n    baseUrl = '//elm.cangdu.org'\r\n    imgUrl = '//elm.cangdu.org/img/'\r\n}\r\n\r\nexport {\r\n    baseUrl,\r\n    imgUrl\r\n}","import axios from 'axios'\r\nimport { baseUrl } from '../config/envconfig'\r\n\r\n/**\r\n * @params method {string} 方法名\r\n * @params url {string} 请求地址  例如：/login 配合baseURL组成完整请求地址\r\n * @params baseURL {string} 请求地址统一前缀 ***需要提前指定***  例如：http://cangdu.org\r\n * @params timeout {number} 请求超时时间 默认 30000\r\n * @params params {object}  get方式传参key值\r\n * @params headers {string} 指定请求头信息\r\n * @params withCredentials {boolean} 请求是否携带本地cookies信息默认开启\r\n * @params validateStatus {func} 默认判断请求成功的范围 200 - 300\r\n * @return {Promise}\r\n * 其他更多拓展参看axios文档后 自行拓展\r\n * 注意：params中的数据会覆盖method url 参数，所以如果指定了这2个参数则不需要在params中带入\r\n */\r\nexport default class Server {\r\n    axios(method, url, data, params) {\r\n        const baseURL = 'http://elm.cangdu.org' + url;\r\n        return new Promise((resolve, reject) => {\r\n            let _option = {\r\n                method,\r\n                url: baseURL,\r\n                baseUrl: baseURL,\r\n                timeout: 30000,\r\n                params,\r\n                data,\r\n                headers: null,\r\n                withCredentials: true, //是否携带cookie发起请求\r\n                validateStatus: (status) => {\r\n                    return status >= 200 && status < 300\r\n                },\r\n            }\r\n            axios.request(_option).then(res => {\r\n                resolve(typeof res.data === 'object' ? res.data : JSON.parse(res.data))\r\n            }, error => {\r\n                if (error.response) {\r\n                    reject(error.response.data)\r\n                } else {\r\n                    reject(error)\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import Server from './server'\r\nimport { getUrlConcat } from '../utils/commons'\r\nclass API extends Server {\r\n    /**\r\n     *  用途：获取验证码\r\n     *  @url http://cangdu.org:8001/v1/captchas\r\n     *  返回status为1表示成功\r\n     *  @method get\r\n     *  @return {promise}\r\n     */\r\n    async getCaptchaCode() {\r\n            try {\r\n                let result = await this.axios('post', '/v1/captchas', {})\r\n                if (result.status === 1 && (result instanceof Object)) {\r\n                    return result || []\r\n                } else {\r\n                    let err = {\r\n                        tip: '获取验证码失败',\r\n                        response: result,\r\n                    }\r\n                    throw err\r\n                }\r\n            } catch (err) {\r\n                throw err\r\n            }\r\n        }\r\n        /**\r\n         *  用途：账号密码登录\r\n         *  @url http://cangdu.org:8001/v2/login\r\n         *  @method post\r\n         *  @return {promise}\r\n         */\r\n    async accountLogin(data) {\r\n        try {\r\n            let result = await this.axios('post', '/v2/login', data)\r\n            if (result.status !== 0 && (result instanceof Object)) {\r\n                return result || []\r\n            } else {\r\n                let err = {\r\n                    tip: '登录失败',\r\n                    response: result,\r\n                }\r\n                return err\r\n            }\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取用户消息\r\n     * @param {*}； \r\n     * get的拼接参数\r\n     */\r\n    async getUser(data) {\r\n        try {\r\n            let result = await this.axios('get', '/v1/user' + getUrlConcat(data))\r\n            if (result.status !== 0 && (result instanceof Object)) {\r\n                return result || []\r\n            } else {\r\n                let err = {\r\n                    tip: '获取用户信息失败',\r\n                    response: result,\r\n                }\r\n                throw err\r\n            }\r\n        } catch (err) {\r\n            throw err\r\n        }\r\n    }\r\n\r\n\r\n    async getHongbao(id, params) {\r\n        try {\r\n            console.info(params)\r\n            const result = await this.axios('get', '/promotion/v2/users/' + id + '/hongbaos', null, params)\r\n            return result\r\n        } catch (error) {\r\n\r\n        }\r\n    }\r\n\r\n    async getHistoryHongbao(id, params) {\r\n        try {\r\n            const result = await this.axios('get', '/promotion/v2/users/' + id + '/expired_hongbaos', null, params);\r\n            return result\r\n        } catch (err) {\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  用途：退出登录\r\n     *  @url https://elm.cangdu.org/v2/signout\r\n     *  返回status为1表示成功\r\n     *  @method GET\r\n     *  @return {promise}\r\n     */\r\n    async changepassword(data) {\r\n        try {\r\n            let result = await this.axios('post', '/v2/changepassword', data);\r\n            if (result && result.status === 1) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: result.message,\r\n                    response: result,\r\n                }\r\n                return err\r\n            }\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n    async loginOut() {\r\n        try {\r\n\r\n            let result = await this.axios('get', '/v2/signout');\r\n            if (result && result.status === 1) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '网络连接超时',\r\n                    response: result,\r\n                }\r\n                return err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     *  用途：上传图片\r\n     *  @url https://elm.cangdu.org/v1/addimg/shop\r\n     *  返回status为1表示成功\r\n     *  @method post\r\n     *  @return {promise}\r\n     */\r\n    async uploadImg(data) {\r\n        try {\r\n            let result = await this.axios('post', '/v1/addimg/' + 'avatar', data);\r\n            if (result && result.status === 1) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '上传图片失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/addimg/shop',\r\n                }\r\n                return err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  用途：获取用户地址列表\r\n     *  @url https://elm.cangdu.org/v1/addimg/shop\r\n     *  返回status为1表示成功\r\n     *  @method get\r\n     */\r\n    async getAddress(id) {\r\n            try {\r\n                let result = await this.axios('get', '/v1/users/' + id + '/addresses');\r\n                if (result) {\r\n                    return result;\r\n                } else {\r\n                    let err = {\r\n                        tip: '获取地址失败',\r\n                        response: result,\r\n                        url: '//elm.cangdu.org/v1/carts/addresses',\r\n                    }\r\n                    throw err;\r\n                }\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n        }\r\n        /**\r\n         *\r\n         *  用途: 搜索符合条件的地址\r\n         * @param {*} data\r\n         * @memberof API\r\n         */\r\n    async searchPois(data) {\r\n        try {\r\n            let result = await this.axios('get', '/v1/pois/' + getUrlConcat(data));\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '搜索地点失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 用途: 根据经纬度获取地点信息\r\n     * @param {*} data\r\n     * @memberof API\r\n     */\r\n    async getPoisSite(data) {\r\n        try {\r\n            let result = await this.axios('get', '/v2/pois/' + data);\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '获取地点失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *用途: 获取食物种类\r\n     * @param {*} data\r\n     * @memberof API\r\n     */\r\n    async getFoodTypes(data) {\r\n        try {\r\n            let result = await this.axios('get', '/v2/index_entry/' + getUrlConcat(data));\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '获取食物种类失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *用途: 猜测城市\r\n     * @param {*} keyword\r\n     * @memberof API\r\n     */\r\n    async cityGuess(keyword) {\r\n        try {\r\n            let result = await this.axios('get', '/v1/cities?type=guess');\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '城市失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *用途: 获取商店列表\r\n     * @param {*} data\r\n     * @memberof API\r\n     */\r\n    async getShopList(data) {\r\n        try {\r\n            let result = await this.axios('get', '/shopping/restaurants' + getUrlConcat(data));\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '获取商店列表失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *用途: 获取商店详情\r\n     * @param {*} id\r\n     * @param {*} data\r\n     * @memberof API\r\n     */\r\n    async shopDetails(id, data) {\r\n        try {\r\n            let result = await this.axios('get', '/shopping/restaurant/' + id + getUrlConcat(data));\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '获取商店详情失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *用途: 获取食物清单\r\n     * @param {*} data\r\n     * @memberof API\r\n     */\r\n    async getfoodMenu(data) {\r\n        try {\r\n            let result = await this.axios('get', '/shopping/v2/menu/' + getUrlConcat(data));\r\n            if (result) {\r\n                return result;\r\n            } else {\r\n                let err = {\r\n                    tip: '获取商店详情失败',\r\n                    response: result,\r\n                    url: '//elm.cangdu.org/v1/carts/addresses',\r\n                }\r\n                throw err;\r\n            }\r\n        } catch (err) {\r\n            throw err;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default new API();","import * as user from './action-type'\r\n\r\n// 保存用户消息\r\nexport const saveUserInfo = (userInfo) => {\r\n    return {\r\n        type: user.SAVE_USERINFO,\r\n        userInfo\r\n    }\r\n}\r\n\r\n// 修改用户信息\r\nexport const saveAttrInfo = (datatype, value) => {\r\n    return {\r\n        type: user.SAVE_ATTRINFO,\r\n        datatype,\r\n        value,\r\n    }\r\n}\r\n\r\n// 修改用户信息\r\nexport const modifyUserInfo = (key, value) => {\r\n    return {\r\n        type: user.MODIFY_USERINFO,\r\n        key,\r\n        value\r\n    }\r\n}"],"sourceRoot":""}